<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸš— ESP8266 Car Controller</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h2>ğŸš— WiFi Car Controller</h2>
    <div class="controls">
      <button onmousedown="send('B')" onmouseup="send('S')">â¬†ï¸</button><br>
      <button onmousedown="send('R')" onmouseup="send('S')">â¬…ï¸</button>
      <button onmousedown="send('S')" onmouseup="send('S')">â¹ï¸</button>
      <button onmousedown="send('L')" onmouseup="send('S')">â¡ï¸</button><br>
      <button onmousedown="send('F')" onmouseup="send('S')">â¬‡ï¸</button>
    </div>
  </div>
  
  <script>
    const NODEMCU_IP = "http://10.208.133.12"; // ganti IP sesuai Serial Monitor

function send(cmd) {
  fetch(`${NODEMCU_IP}/${cmd}`).catch(err => console.log(err));
}

  // === Tambahan: kontrol keyboard ===
  document.addEventListener("keydown", function(e) {
    switch(e.key.toLowerCase()) {
      case "w":
      case "arrowup":
        send("B"); // Tombol atas (maju)
        break;
      case "s":
      case "arrowdown":
        send("F"); // Tombol bawah (mundur)
        break;
      case "a":
      case "arrowleft":
        send("R"); // Kiri
        break;
      case "d":
      case "arrowright":
        send("L"); // Kanan
        break;
      case " ":
      case "x":
        send("S"); // Stop (spasi atau X)
        break;
    }
  });

  document.addEventListener("keyup", function(e) {
    switch(e.key.toLowerCase()) {
      case "w":
      case "arrowup":
      case "s":
      case "arrowdown":
      case "a":
      case "arrowleft":
      case "d":
      case "arrowright":
        send("S"); // Stop saat tombol dilepas
        break;
    }
  });

  </script>
</body>
</html>
